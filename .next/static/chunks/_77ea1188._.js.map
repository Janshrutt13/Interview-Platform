{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,KAGoC;QAHpC,EACb,SAAS,EACT,GAAG,OAC8C,GAHpC;IAIb,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  useFormState,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nfunction FormItem({ className, ...props }: React.ComponentProps<\"div\">) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot=\"form-item\"\n        className={cn(\"grid gap-2\", className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  )\n}\n\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn(\"data-[error=true]:text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction FormMessage({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn(\"text-destructive text-sm\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/lib/actions/auth.action.ts"],"sourcesContent":["'use server';\r\n\r\nimport { db, auth } from \"@/firebase/admin\";\r\nimport { cookies } from \"next/headers\";\r\n\r\nconst ONE_WEEK = 60 * 60 * 24 * 7; // seconds in a week\r\n\r\nexport async function signUp(params: SignUpParams) {\r\n    const { uid, name, email } = params;\r\n\r\n    try {\r\n        const userRecord = await db.collection(\"users\").doc(uid).get();\r\n\r\n        if (userRecord.exists) {\r\n            return {\r\n                success: false,\r\n                message: \"User already exists, please Sign Up\",\r\n            };\r\n        }\r\n\r\n        await db.collection(\"users\").doc(uid).set({\r\n            name,\r\n            email,\r\n        });\r\n\r\n        return {\r\n            success: true,\r\n            message: \"User created successfully\",\r\n        };\r\n    } catch (e: any) {\r\n        console.error(\"Error creating user\", e);\r\n\r\n        if (e.code === \"auth/email-already-exists\") {\r\n            return {\r\n                success: false,\r\n                message: \"Email already exists\",\r\n            };\r\n        }\r\n\r\n        return {\r\n            success: false,\r\n            message: \"Failed to create user\",\r\n        };\r\n    }\r\n}\r\n\r\nexport async function setSessionCookie(idToken: string) {\r\n    const cookieStore = await cookies();\r\n\r\n    const sessionCookie = await auth.createSessionCookie(idToken, {\r\n        expiresIn: ONE_WEEK * 1000, // ms\r\n    });\r\n\r\n    cookieStore.set(\"session\", sessionCookie, {\r\n        maxAge: ONE_WEEK,\r\n        httpOnly: true,\r\n        secure: process.env.NODE_ENV === \"production\",\r\n        path: \"/\",\r\n        sameSite: \"lax\",\r\n    });\r\n}\r\n\r\nexport async function signIn(params: SignInParams) {\r\n    const { email, idToken } = params;\r\n\r\n    try {\r\n        const userRecord = await auth.getUserByEmail(email);\r\n        if (!userRecord) {\r\n            return {\r\n                success: false,\r\n                message: \"User does not exist. Create an account.\",\r\n            };\r\n        }\r\n\r\n        await setSessionCookie(idToken);\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Login successful\",\r\n        };\r\n    } catch (error: any) {\r\n        console.log(\"\", error);\r\n\r\n        return {\r\n            success: false,\r\n            message: \"Failed to log into account. Please try again.\",\r\n        };\r\n    }\r\n}\r\n\r\n// Sign out user by clearing the session cookie\r\nexport async function signOut() {\r\n    const cookieStore = await cookies();\r\n\r\n    cookieStore.delete(\"session\");\r\n}\r\n\r\n//Get current user from session cookie\r\nexport async function getCurrentUser() : Promise<User | null> {\r\n    const cookieStore = await cookies();\r\n\r\n    const sessionCookie = cookieStore.get(\"session\")?.value;\r\n    if (!sessionCookie) return null;\r\n\r\n    try {\r\n        const decodedClaims = await auth.verifySessionCookie(sessionCookie, true);\r\n        const userRecord = await db\r\n            .collection(\"users\")\r\n            .doc(decodedClaims.uid)\r\n            .get()\r\n\r\n        if (!userRecord) return null;\r\n\r\n        return {\r\n            ...userRecord.data(),\r\n            id: userRecord.id,\r\n        } as User;\r\n    } catch (err) {\r\n        console.log(err);\r\n\r\n        // Invalid or expired session\r\n        return null;\r\n    }\r\n}\r\n\r\n//Check if user is authenticated\r\nexport async function isAuthenticated(){\r\n    const user = await getCurrentUser();\r\n    return !!user;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;IA8DsB,SAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/lib/actions/auth.action.ts"],"sourcesContent":["'use server';\r\n\r\nimport { db, auth } from \"@/firebase/admin\";\r\nimport { cookies } from \"next/headers\";\r\n\r\nconst ONE_WEEK = 60 * 60 * 24 * 7; // seconds in a week\r\n\r\nexport async function signUp(params: SignUpParams) {\r\n    const { uid, name, email } = params;\r\n\r\n    try {\r\n        const userRecord = await db.collection(\"users\").doc(uid).get();\r\n\r\n        if (userRecord.exists) {\r\n            return {\r\n                success: false,\r\n                message: \"User already exists, please Sign Up\",\r\n            };\r\n        }\r\n\r\n        await db.collection(\"users\").doc(uid).set({\r\n            name,\r\n            email,\r\n        });\r\n\r\n        return {\r\n            success: true,\r\n            message: \"User created successfully\",\r\n        };\r\n    } catch (e: any) {\r\n        console.error(\"Error creating user\", e);\r\n\r\n        if (e.code === \"auth/email-already-exists\") {\r\n            return {\r\n                success: false,\r\n                message: \"Email already exists\",\r\n            };\r\n        }\r\n\r\n        return {\r\n            success: false,\r\n            message: \"Failed to create user\",\r\n        };\r\n    }\r\n}\r\n\r\nexport async function setSessionCookie(idToken: string) {\r\n    const cookieStore = await cookies();\r\n\r\n    const sessionCookie = await auth.createSessionCookie(idToken, {\r\n        expiresIn: ONE_WEEK * 1000, // ms\r\n    });\r\n\r\n    cookieStore.set(\"session\", sessionCookie, {\r\n        maxAge: ONE_WEEK,\r\n        httpOnly: true,\r\n        secure: process.env.NODE_ENV === \"production\",\r\n        path: \"/\",\r\n        sameSite: \"lax\",\r\n    });\r\n}\r\n\r\nexport async function signIn(params: SignInParams) {\r\n    const { email, idToken } = params;\r\n\r\n    try {\r\n        const userRecord = await auth.getUserByEmail(email);\r\n        if (!userRecord) {\r\n            return {\r\n                success: false,\r\n                message: \"User does not exist. Create an account.\",\r\n            };\r\n        }\r\n\r\n        await setSessionCookie(idToken);\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Login successful\",\r\n        };\r\n    } catch (error: any) {\r\n        console.log(\"\", error);\r\n\r\n        return {\r\n            success: false,\r\n            message: \"Failed to log into account. Please try again.\",\r\n        };\r\n    }\r\n}\r\n\r\n// Sign out user by clearing the session cookie\r\nexport async function signOut() {\r\n    const cookieStore = await cookies();\r\n\r\n    cookieStore.delete(\"session\");\r\n}\r\n\r\n//Get current user from session cookie\r\nexport async function getCurrentUser() : Promise<User | null> {\r\n    const cookieStore = await cookies();\r\n\r\n    const sessionCookie = cookieStore.get(\"session\")?.value;\r\n    if (!sessionCookie) return null;\r\n\r\n    try {\r\n        const decodedClaims = await auth.verifySessionCookie(sessionCookie, true);\r\n        const userRecord = await db\r\n            .collection(\"users\")\r\n            .doc(decodedClaims.uid)\r\n            .get()\r\n\r\n        if (!userRecord) return null;\r\n\r\n        return {\r\n            ...userRecord.data(),\r\n            id: userRecord.id,\r\n        } as User;\r\n    } catch (err) {\r\n        console.log(err);\r\n\r\n        // Invalid or expired session\r\n        return null;\r\n    }\r\n}\r\n\r\n//Check if user is authenticated\r\nexport async function isAuthenticated(){\r\n    const user = await getCurrentUser();\r\n    return !!user;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;IAOsB,SAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/components/FormField.tsx"],"sourcesContent":["import { Controller, Control, FieldValues, Path } from \"react-hook-form\";\r\n\r\nimport {\r\n    FormItem,\r\n    FormLabel,\r\n    FormControl,\r\n    FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\ninterface FormFieldProps<T extends FieldValues> {\r\n    control: Control<T>;\r\n    name: Path<T>;\r\n    label: string;\r\n    placeholder?: string;\r\n    type?: \"text\" | \"email\" | \"password\";\r\n}\r\n\r\nconst FormField = <T extends FieldValues>({\r\n                                              control,\r\n                                              name,\r\n                                              label,\r\n                                              placeholder,\r\n                                              type = \"text\",\r\n                                          }: FormFieldProps<T>) => {\r\n    // ðŸ‘‡ stable id based on field name\r\n    const inputId = `field-${name}`;\r\n\r\n    return (\r\n        <Controller\r\n            control={control}\r\n            name={name}\r\n            render={({ field }) => (\r\n                <FormItem>\r\n                    <FormLabel htmlFor={inputId} className=\"label\">\r\n                        {label}\r\n                    </FormLabel>\r\n                    <FormControl>\r\n                        <Input\r\n                            id={inputId}\r\n                            className=\"input\"\r\n                            type={type}\r\n                            placeholder={placeholder}\r\n                            {...field}\r\n                        />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                </FormItem>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\nexport default FormField;\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAMA;;;;;AAUA,MAAM,YAAY;QAAwB,EACI,OAAO,EACP,IAAI,EACJ,KAAK,EACL,WAAW,EACX,OAAO,MAAM,EACG;IAC1D,mCAAmC;IACnC,MAAM,UAAU,AAAC,SAAa,OAAL;IAEzB,qBACI,6LAAC,+KAAU;QACP,SAAS;QACT,MAAM;QACN,QAAQ;gBAAC,EAAE,KAAK,EAAE;iCACd,6LAAC,wIAAQ;;kCACL,6LAAC,yIAAS;wBAAC,SAAS;wBAAS,WAAU;kCAClC;;;;;;kCAEL,6LAAC,2IAAW;kCACR,cAAA,6LAAC,sIAAK;4BACF,IAAI;4BACJ,WAAU;4BACV,MAAM;4BACN,aAAa;4BACZ,GAAG,KAAK;;;;;;;;;;;kCAGjB,6LAAC,2IAAW;;;;;;;;;;;;;;;;;AAKhC;KAjCM;uCAmCS","debugId":null}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/OneDrive/Desktop/interview-platform/components/AuthForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { toast } from \"sonner\";\r\nimport { auth } from \"@/firebase/client\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\n\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\n\r\nimport { Form } from \"@/components/ui/form\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nimport { signIn, signUp } from \"@/lib/actions/auth.action\";\r\nimport FormField from \"./FormField\";\r\n\r\nconst authFormSchema = (type: FormType) => {\r\n    return z.object({\r\n        name: type === \"sign-up\" ? z.string().min(3) : z.string().optional(),\r\n        email: z.string().email(),\r\n        password: z.string().min(3),\r\n    });\r\n};\r\n\r\nconst AuthForm = ({ type }: { type: FormType }) => {\r\n    const router = useRouter();\r\n\r\n    const formSchema = authFormSchema(type);\r\n    const form = useForm<z.infer<typeof formSchema>>({\r\n        resolver: zodResolver(formSchema),\r\n        defaultValues: {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n        },\r\n    });\r\n\r\n    const onSubmit = async (data: z.infer<typeof formSchema>) => {\r\n        try {\r\n            if (type === \"sign-up\") {\r\n                const { name, email, password } = data;\r\n\r\n                const userCredential = await createUserWithEmailAndPassword(\r\n                    auth,\r\n                    email,\r\n                    password\r\n                );\r\n\r\n                const result = await signUp({\r\n                    uid: userCredential.user.uid,\r\n                    name: name!,\r\n                    email,\r\n                    password,\r\n                });\r\n\r\n                if (!result.success) {\r\n                    toast.error(result.message);\r\n                    return;\r\n                }\r\n\r\n                toast.success(\"Account created successfully. Please sign in.\");\r\n                router.push(\"/sign-in\");\r\n            } else {\r\n                const { email, password } = data;\r\n\r\n                const userCredential = await signInWithEmailAndPassword(\r\n                    auth,\r\n                    email,\r\n                    password\r\n                );\r\n\r\n                const idToken = await userCredential.user.getIdToken();\r\n                if (!idToken) {\r\n                    toast.error(\"Sign in Failed. Please try again.\");\r\n                    return;\r\n                }\r\n\r\n                await signIn({\r\n                    email,\r\n                    idToken,\r\n                });\r\n\r\n                toast.success(\"Signed in successfully.\");\r\n                router.push(\"/\");\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n            toast.error(`There was an error: ${error}`);\r\n        }\r\n    };\r\n\r\n    const isSignIn = type === \"sign-in\";\r\n\r\n    return (\r\n        <div className=\"card-border lg:min-w-[566px]\">\r\n            <div className=\"flex flex-col gap-6 card py-14 px-10\">\r\n                <div className=\"flex flex-row gap-2 justify-center\">\r\n                    <Image src=\"/logo.svg\" alt=\"logo\" height={32} width={38} />\r\n                    <h2 className=\"text-primary-100\">PrepWise</h2>\r\n                </div>\r\n\r\n                <h3>Practice job interviews with AI</h3>\r\n\r\n                <Form {...form}>\r\n                    <form\r\n                        onSubmit={form.handleSubmit(onSubmit)}\r\n                        className=\"w-full space-y-6 mt-4 form\"\r\n                    >\r\n                        {!isSignIn && (\r\n                            <FormField\r\n                                control={form.control}\r\n                                name=\"name\"\r\n                                label=\"Name\"\r\n                                placeholder=\"Your Name\"\r\n                                type=\"text\"\r\n                            />\r\n                        )}\r\n\r\n                        <FormField\r\n                            control={form.control}\r\n                            name=\"email\"\r\n                            label=\"Email\"\r\n                            placeholder=\"Your email address\"\r\n                            type=\"email\"\r\n                        />\r\n\r\n                        <FormField\r\n                            control={form.control}\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            placeholder=\"Enter your password\"\r\n                            type=\"password\"\r\n                        />\r\n\r\n\r\n\r\n                        <Button className=\"btn\" type=\"submit\">\r\n                            {isSignIn ? \"Sign In\" : \"Create an Account\"}\r\n                        </Button>\r\n                    </form>\r\n                </Form>\r\n\r\n                <p className=\"text-center\">\r\n                    {isSignIn ? \"No account yet?\" : \"Have an account already?\"}\r\n                    <Link\r\n                        href={!isSignIn ? \"/sign-in\" : \"/sign-up\"}\r\n                        className=\"font-bold text-user-primary ml-1\"\r\n                    >\r\n                        {!isSignIn ? \"Sign In\" : \"Sign Up\"}\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AuthForm;"],"names":[],"mappings":"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","debugId":null}}]
}